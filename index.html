<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Binomial Neologism Generator</title>
  <style>
    body {
      font-family: "Helvetica Neue", sans-serif;
      background: #fafafa;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      color: #222;
      text-align: center;
      padding: 20px;
    }
    h1 { font-weight: 300; margin-bottom: 10px; }
    #phrase {
      font-size: 2em;
      margin: 20px 0;
      color: #333;
      transition: opacity 0.4s ease;
    }
    #definition {
      max-width: 600px;
      font-style: italic;
      color: #555;
      height:8em;
      min-height: 2em;
    }
    button {
      padding: 10px 20px;
      background: #000;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    button:hover { background: #444; }
  </style>
</head>
<body>

  <style>
    body {
      font-family: "Helvetica Neue", sans-serif;
      background: #fafafa;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      color: #222;
      text-align: center;
      padding: 20px;
    }
    h1 { font-weight: 300; margin-bottom: 10px; }
    #phrase {
      font-size: 2em;
      margin: 20px 0;
      color: #333;
      transition: opacity 0.4s ease;
    }
    #definition {
      max-width: 600px;
      font-style: italic;
      color: #555;
      height:8em;
      min-height: 2em;
    }
    button {
      padding: 10px 20px;
      background: #000;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    button:hover { background: #444; }
  </style>
  <h1>Neological Bigram Generator</h1>
  <div id="phrase">Press the button below</div>
  <div id="definition"></div>
  <button id="generateBtn">Generate Neological Bigram</button>

  <script>
    const adjectives = [
"speculative", "performative", "distributed", "ambient", "tactical",
"clinical", "vernacular", "posthuman", "affective", "networked", "luminous",
"residual", "civic", "liminal", "embodied", "recursive", "algorithmic",
"contingent", "emergent", "provisional", "entangled", 
"situated", "procedural", "latent", "synthetic", "relational", 
"prosthetic", "iterative", "ephemeral", "subversive", "mediated", 
"porous", "reflexive", "dialogic", "infrastructural", "scalar", 
"participatory", "ecological", "affectual", "transgressive", "machinic", 
"generative", "archival", "discursive", "nomadic", "entropic", 
"marginal", "opaque", "gestural", "precarious", "immersive", 
"heuristic", "decolonial", "fragmentary", "modular", "anticipatory", 
"convivial", "recombinant", "rhizomatic", "synthetic", "liminal", 
"vernacular", "performative", "ambient", "tactical", "embodied","specular",
"speculative-critical", "anxious", "para-ontological", "infraordinary",
"transmaterial", "anatomical", "affordant", "cosmopolitical", "xenodesign",
"planetary", "metabolic", "plastic", "chthonic", "feral", 
"geological", "symbiotic", "situational", "networked", "responsive",
"computational", "datified", "interfacial", "parametric", "algorithmic-social",
"multimodal", "anthropocenic", "intersubjective", "mutational", "critical",
"postdigital", "haptic", "temporal", "speculative-ethical", "translocal",
"posthumanist", "autonomous", "adaptive", "meta-reflexive", "syntonic",
"performative-material", "affective-technical", "onto-epistemic", "vibrant",
"corrosive", "synthetic-organic", "hyperreal", "psychosocial", "interplanetary",
"techno-political", "somatic", "biomorphic", "nonlinear", "empathic",
"planetary", "post-anthropocentric", "invisible", "parasitic", "algorithmic-affective",
"infra-sensory", "trans-scalar", "speculative-pragmatic", "algorithmic-material", 
"hyperdimensional", "neural", "quantum", "deep", "ambient-critical", "polyphonic",
"polyvocal", "diffractive", "techno-aesthetic", "epistemic", "ludic", "slow", "anti-", "un-", "non-"
    ];

    const nouns = [
      "praxis", "materiality", "interface", "speculation", "infrastructure",
"intimacy", "aesthetics", "sincerity", "ambiguity", "resonance",
"opacity", "modularity", "ecology", "agency", "ontology",
"assemblage", "temporality", "authenticity", "mediation", "figuration",
"continuity", "rupture", "trace", "artifact", "gesture",
"discourse", "affect", "subjectivity", "reciprocity", "network",
"algorithm", "representation", "iteration", "narrative", "field",
"relation", "contingency", "translation", "transformation", "memory",
"presence", "absence", "archive", "collectivity", "form",
"becoming", "embodiment", "pattern", "aura", "practice", 
"intra-action", "infrastructure-ecology", "assemblage-thinking", "plasticity", "affordance",
"interface-ecology", "sociomateriality", "transduction", "rhizome", "connectivity",
"heterogeneity", "provenance", "vitality", "resilience", "threshold",
"speculative-materiality", "interstitiality", "emergence", "topology", "ephemerality",
"contingency-field", "multimodality", "algorithmic-practice", "cybernetics", "performative-space",
"autonomy", "intersubjectivity", "metabolism", "chthonicity", "relationality",
"scalarity", "nonlinearity", "hyperobject", "temporality-loop", "mutability",
"planetarity", "hyperstructure", "prosthesis", "parametricity", "transversality",
"affective-architecture", "mediation-layer", "digital-ontology", "networked-practice", "speculative-synthesis",
"vibrancy", "entanglement", "synapse", "interfacing", "threshold-space",
"parallax", "somatics", "topography", "biomorphism", "neural-network",
"psychosociality", "deep-time", "interstice", "infraordinary", "performativity", "oscillation", "diffraction"
    ];

    const structures = ["adj-noun"];

    document.getElementById("generateBtn").addEventListener("click", generate);

    async function generate() {
      const structure = random(structures);
      const adj = random(adjectives);
      const noun = random(nouns);
      const noun2 = random(nouns);

      let phrase;
      if (structure === "adj-noun") phrase = `${adj} ${noun}`;
      if (structure === "noun-noun") phrase = `${noun} ${noun2}`;
      if (structure === "noun-adj") phrase = `${noun} ${adj}`;

      const phraseDiv = document.getElementById("phrase");
      const defDiv = document.getElementById("definition");

      phraseDiv.style.opacity = 0;
      defDiv.innerText = "Thinking...";
      
      // Fade in new phrase
      setTimeout(() => {
        phraseDiv.innerText = phrase;
        phraseDiv.style.opacity = 1;
      }, 300);

      try {
        const definition = await getDefinition(phrase);
        defDiv.innerText = definition;
      } catch (err) {
        console.error(err);
        defDiv.innerText = makeFakeDefinition(phrase);
      }
    }

    function random(arr) {
      return arr[Math.floor(Math.random() * arr.length)];
    }

    // --- OPTION 1: Real OpenAI API call (requires your key) ---
    /* async function getDefinition(phrase) {
      const API_KEY = "APIKEYGOESHERE"; // ‚Üê Add your OpenAI API key here if you have one
      if (!API_KEY) throw new Error("No API key provided.");
      */

async function getDefinition(phrase) {
  try {
    const response = await fetch("https://neologism-proxy.vercel.app/api/define", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ phrase })
    });

    // Make sure the response is valid JSON
    if (!response.ok) {
      console.error("Server returned status", response.status);
      return makeFakeDefinition(phrase); // fallback local generator
    }

    const data = await response.json();

    // OpenAI returns the definition here
    if (data?.choices?.[0]?.message?.content) {
      return data.choices[0].message.content.trim();
    } else {
      console.warn("Unexpected response structure:", data);
      return makeFakeDefinition(phrase); // fallback
    }

  } catch (err) {
    console.error("Error fetching definition:", err);
    return makeFakeDefinition(phrase); // fallback
  }
}

    // --- OPTION 2: Local fake definition generator ---
    function makeFakeDefinition(phrase) {
      const openings = [
        "The study of", "An exploration into", "A reflection on", 
        "A meditation on", "A critique of", "The subtle tension between"
      ];
      const middles = [
        "the material and the immaterial", 
        "presence and absence", 
        "human agency and digital automation",
        "form and formlessness",
        "practice and speculation",
        "design and desire"
      ];
      const endings = [
        "within contemporary creative processes.",
        "in the context of technological culture.",
        "as a mode of aesthetic resistance.",
        "through emergent modes of making.",
        "at the edges of perception and production."
      ];

      return `${random(openings)} ${random(middles)} ${random(endings)}`;
    }
  </script>
</body>
</html>
